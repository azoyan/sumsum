<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <title>SumSum ‚Äî –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞</title>
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/animations.css">
  <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
  <!-- –≠–∫—Ä–∞–Ω –º–µ–Ω—é -->
  <div id="menu-screen" class="screen active">
    <div class="menu-container">
      <h1 class="game-title">Sum<span class="accent">Sum</span></h1>
      <p class="game-subtitle">–ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–æ–ª–æ–≤–æ–ª–æ–º–∫–∞</p>
      <div class="menu-buttons">
        <button id="btn-play" class="btn btn-primary">–ò–≥—Ä–∞—Ç—å</button>
        <button id="btn-how-to-play" class="btn btn-secondary">–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</button>
        <button id="btn-settings" class="btn btn-secondary">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
      </div>
      <div class="menu-stats">
        <div class="stat-item">
          <span class="stat-label">–†–µ–∫–æ—Ä–¥</span>
          <span id="menu-high-score" class="stat-value">0</span>
        </div>
        <div class="stat-item">
          <span class="stat-label">–ò–≥—Ä—ã</span>
          <span id="menu-total-games" class="stat-value">0</span>
        </div>
      </div>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –æ–±—É—á–µ–Ω–∏—è -->
  <div id="tutorial-screen" class="screen">
    <div class="tutorial-container">
      <h2>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å</h2>
      <div class="tutorial-steps">
        <div class="tutorial-step">
          <div class="tutorial-icon">üéØ</div>
          <p>–¶–µ–ª—å ‚Äî —Å–æ–±—Ä–∞—Ç—å <strong>—Ü–µ–ª–µ–≤—É—é —Å—É–º–º—É</strong>, –ø–æ–∫–∞–∑–∞–Ω–Ω—É—é –≤–≤–µ—Ä—Ö—É —ç–∫—Ä–∞–Ω–∞</p>
        </div>
        <div class="tutorial-step">
          <div class="tutorial-icon">üëÜ</div>
          <p>–ù–∞–∂–∏–º–∞–π—Ç–µ –Ω–∞ <strong>–∫—É–±–∏–∫–∏ —Å —á–∏—Å–ª–∞–º–∏</strong>, —á—Ç–æ–±—ã –≤—ã–±—Ä–∞—Ç—å –∏—Ö</p>
        </div>
        <div class="tutorial-step">
          <div class="tutorial-icon">‚ú®</div>
          <p>–ö–æ–≥–¥–∞ —Å—É–º–º–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –∫—É–±–∏–∫–æ–≤ —Å–æ–≤–ø–∞–¥—ë—Ç —Å —Ü–µ–ª—å—é ‚Äî –æ–Ω–∏ <strong>–∏—Å—á–µ–∑–Ω—É—Ç</strong></p>
        </div>
        <div class="tutorial-step">
          <div class="tutorial-icon">‚ö†Ô∏è</div>
          <p>–ù–µ –¥–∞–π—Ç–µ –∫–æ–ª–æ–Ω–∫–∞–º <strong>–ø–µ—Ä–µ–ø–æ–ª–Ω–∏—Ç—å—Å—è</strong> ‚Äî –º–∞–∫—Å–∏–º—É–º 8 –∫—É–±–∏–∫–æ–≤!</p>
        </div>
        <div class="tutorial-step">
          <div class="tutorial-icon">üî•</div>
          <p>–°–æ–±–∏—Ä–∞–π—Ç–µ <strong>–∫–æ–º–±–æ</strong> –ø–æ–¥—Ä—è–¥ –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è –º–Ω–æ–∂–∏—Ç–µ–ª—è –æ—á–∫–æ–≤!</p>
        </div>
      </div>
      <button id="btn-tutorial-back" class="btn btn-primary">–ü–æ–Ω—è—Ç–Ω–æ!</button>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
  <div id="settings-screen" class="screen">
    <div class="settings-container">
      <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
      <div class="settings-list">
        <div class="setting-item">
          <span>–ó–≤—É–∫</span>
          <label class="toggle">
            <input type="checkbox" id="setting-sound" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="setting-item">
          <span>–í–∏–±—Ä–∞—Ü–∏—è</span>
          <label class="toggle">
            <input type="checkbox" id="setting-vibration" checked>
            <span class="toggle-slider"></span>
          </label>
        </div>
        <div class="setting-item">
          <span>–°–ª–æ–∂–Ω–æ—Å—Ç—å</span>
          <select id="setting-difficulty" class="select-input">
            <option value="easy">–õ–µ–≥–∫–æ</option>
            <option value="medium" selected>–ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
            <option value="hard">–°–ª–æ–∂–Ω–æ</option>
          </select>
        </div>
      </div>
      <button id="btn-settings-back" class="btn btn-primary">–ù–∞–∑–∞–¥</button>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∏–≥—Ä—ã -->
  <div id="game-screen" class="screen">
    <!-- –í–µ—Ä—Ö–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div id="game-header">
      <div id="current-target-label">–¶–ï–õ–¨</div>
      <div id="target-carousel">
        <div class="carousel-track">
          <span id="current-target" class="carousel-item carousel-current">15</span>
          <span id="next-target-1" class="carousel-item carousel-next1">20</span>
          <span id="next-target-2" class="carousel-item carousel-next2">25</span>
        </div>
      </div>
      <div id="selected-sum-display">–í—ã–±—Ä–∞–Ω–æ: <span id="selected-sum">0</span></div>
    </div>

    <!-- –û—á–µ—Ä–µ–¥–∏ –∫—É–±–∏–∫–æ–≤ -->
    <div id="queues-display">
      <div class="queue-item" data-col="0"></div>
      <div class="queue-item" data-col="1"></div>
      <div class="queue-item" data-col="2"></div>
      <div class="queue-item" data-col="3"></div>
    </div>

    <!-- –ò–≥—Ä–æ–≤–æ–µ –ø–æ–ª–µ -->
    <div id="game-field">
      <canvas id="game-canvas"></canvas>
      <!-- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∫–æ–ª–æ–Ω–æ–∫ -->
      <div id="column-dangers">
        <div class="col-danger" data-col="0"></div>
        <div class="col-danger" data-col="1"></div>
        <div class="col-danger" data-col="2"></div>
        <div class="col-danger" data-col="3"></div>
      </div>
    </div>

    <!-- –ù–∏–∂–Ω—è—è –ø–∞–Ω–µ–ª—å -->
    <div id="game-footer">
      <div id="score-display">
        <span class="footer-label">–°—á—ë—Ç</span>
        <span id="score-value">0</span>
      </div>
      <div id="combo-display" class="hidden">
        <span id="combo-value">√ó1.5</span>
        <span class="footer-label">–ö–û–ú–ë–û</span>
      </div>
      <div id="level-display">
        <span class="footer-label">–£—Ä–æ–≤–µ–Ω—å</span>
        <span id="level-value">1</span>
      </div>
      <div id="game-controls">
        <button id="btn-pause" class="btn-icon" title="–ü–∞—É–∑–∞">‚è∏</button>
      </div>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –ø–∞—É–∑—ã -->
  <div id="pause-overlay" class="overlay hidden">
    <div class="overlay-content">
      <h2>–ü–∞—É–∑–∞</h2>
      <button id="btn-resume" class="btn btn-primary">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
      <button id="btn-restart" class="btn btn-secondary">–ù–æ–≤–∞—è –∏–≥—Ä–∞</button>
      <button id="btn-quit" class="btn btn-secondary">–í –º–µ–Ω—é</button>
    </div>
  </div>

  <!-- –≠–∫—Ä–∞–Ω –∫–æ–Ω—Ü–∞ –∏–≥—Ä—ã -->
  <div id="gameover-overlay" class="overlay hidden">
    <div class="overlay-content gameover-content">
      <h2>–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞</h2>
      <div class="gameover-stats">
        <div class="go-stat">
          <span class="go-stat-label">–°—á—ë—Ç</span>
          <span id="go-score" class="go-stat-value">0</span>
        </div>
        <div class="go-stat">
          <span class="go-stat-label">–£—Ä–æ–≤–µ–Ω—å</span>
          <span id="go-level" class="go-stat-value">1</span>
        </div>
        <div class="go-stat">
          <span class="go-stat-label">–†–µ–∫–æ—Ä–¥</span>
          <span id="go-highscore" class="go-stat-value">0</span>
        </div>
        <div id="go-new-record" class="hidden">üéâ –ù–æ–≤—ã–π —Ä–µ–∫–æ—Ä–¥!</div>
      </div>
      <button id="btn-play-again" class="btn btn-primary">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
      <button id="btn-go-menu" class="btn btn-secondary">–í –º–µ–Ω—é</button>
    </div>
  </div>

  <!-- FPS-—Å—á—ë—Ç—á–∏–∫ (debug) -->
  <div id="fps-counter" class="hidden">FPS: 60</div>

  <script src="js/utils.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/generator.js"></script>
  <script src="js/ui.js"></script>
  <script src="js/game.js"></script>
</body>
</html>
